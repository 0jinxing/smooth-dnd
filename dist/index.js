!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SmoothDND=t():e.SmoothDND=t()}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o={};n.d(o,"containerInstance",function(){return v}),n.d(o,"containersInDraggable",function(){return y}),n.d(o,"defaultGroupName",function(){return x}),n.d(o,"wrapperClass",function(){return E}),n.d(o,"defaultGrabHandleClass",function(){return C}),n.d(o,"animationClass",function(){return w}),n.d(o,"translationValue",function(){return S}),n.d(o,"visibilityValue",function(){return D}),n.d(o,"ghostClass",function(){return I}),n.d(o,"containerClass",function(){return R}),n.d(o,"extraSizeForInsertion",function(){return O}),n.d(o,"stretcherElementClass",function(){return z}),n.d(o,"stretcherElementInstance",function(){return B}),n.d(o,"isDraggableDetached",function(){return T}),n.d(o,"disbaleTouchActions",function(){return $}),n.d(o,"noUserSelectClass",function(){return N});var i={};n.d(i,"domDropHandler",function(){return P}),n.d(i,"reactDropHandler",function(){return L});const l=(e,t,n)=>"x"===n?{left:Math.max(e.left,t.left),top:e.top,right:Math.min(e.right,t.right),bottom:e.bottom}:{left:e.left,top:Math.max(e.top,t.top),right:e.right,bottom:Math.min(e.bottom,t.bottom)},r=e=>{const t=e.getBoundingClientRect(),n={left:t.left,right:t.right+10,top:t.top,bottom:t.bottom};if(u(e,"x")&&!s(e,"x")){const t=n.right-n.left;n.right=n.right+e.scrollWidth-t}if(u(e,"y")&&!s(e,"y")){const t=n.bottom-n.top;n.bottom=n.bottom+e.scrollHeight-t}return n},a=(e,t)=>{const n=window.getComputedStyle(e),o=n.overflow,i=n[`overflow-${t}`];return"auto"===o||"scroll"===o||("auto"===i||"scroll"===i)},s=(e,t)=>{const n=window.getComputedStyle(e),o=n.overflow,i=n[`overflow-${t}`];return"auto"===o||"scroll"===o||"hidden"===o||("auto"===i||"scroll"===i||"hidden"===i)},u=(e,t)=>"x"===t?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight,d=(e,t)=>{let n=e,o=t||r(e);for(n=e.parentElement;n;)u(n,"x")&&s(n,"x")&&(o=l(o,n.getBoundingClientRect(),"x")),u(n,"y")&&s(n,"y")&&(o=l(o,n.getBoundingClientRect(),"y")),n=n.parentElement;return o},c=(e,t)=>{let n=[];return setTimeout(function(){let o=e;for(;o;)(a(o,"x")||a(o,"y"))&&(o.addEventListener("scroll",t),n.push(o)),o=o.parentElement;window.addEventListener("scroll",t)},10),{dispose:()=>{n.forEach(e=>{e.removeEventListener("scroll",t)}),window.removeEventListener("scroll",t)}}},g=(e,t)=>{let n=e;for(;n;){if(n.matches(t))return n;n=n.parentElement}return null},f=(e,t)=>e.className.split(" ").map(e=>e).indexOf(t)>-1,m=(e,t)=>{const n=e.className.split(" ").filter(e=>e);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" "))},p=(e,t)=>{const n=e.className.split(" ").filter(e=>e&&e!==t);e.className=n.join(" ")},h=(e,t)=>e.removeChild(e.children[t]),b=(e,t,n)=>{n>=e.children.lenght?e.appendChild(t):e.insertBefore(t,e.children[n])},v="smooth-dnd-container-instance",y="smooth-dnd-containers-in-draggable",x="@@smooth-dnd-default-group@@",E="smooth-dnd-draggable-wrapper",C="smooth-dnd-default-grap-handle",w="animated",S="__smooth_dnd_draggable_translation_value",D="__smooth_dnd_draggable_visibility_value",I="smooth-dnd-ghost",R="smooth-dnd-container",O="smooth-dnd-extra-size-for-insertion",z="smooth-dnd-stretcher-element",B="smooth-dnd-stretcher-instance",T="smoth-dnd-is-draggable-detached",$="smooth-dnd-disable-touch-action",N="smooth-dnd-no-user-select";function P({element:e,draggables:t,layout:n,options:o}){return(n,i)=>{const{removedIndex:l,addedIndex:r,droppedElement:a}=n;if(null!==l&&(h(e,l),t.splice(l,1)),null!==r){const n=document.createElement("div");n.className=`${E} ${o.orientation} ${w} `,n.appendChild(a.cloneNode(!0)),n[y]=[],b(e,n,r),r>=t.length?t.push(n):t.splice(r,0,n)}i&&i(n)}}function L(){return{handler:({element:e,draggables:t,layout:n,options:o})=>(e,t)=>{t&&t(e)}}}function A(e,t){let n=e;for(;n;){if(a(n))return n;n=n.parentElement}}function V(e,t){let n=!1,o=null,i=null,l=null,r=null;return{animate:function(a,s){l=a,r=s,(n=!0)&&function n(){null===o&&(o=requestAnimationFrame(a=>{null===i&&(i=a);const s=a-i;i=a;let u=s/1e3*r;u="begin"===l?0-u:u;const d=t.getScrollValue(e)+u;t.setScrollValue(e,d),o=null,n()}))}()},stop:function(){n&&(cancelAnimationFrame(o),n=!1,i=null,o=null)}}}var j=({element:e,layout:t,options:n})=>{let o=null;n.orientation;let i=A(e);const l=t.getBeginEndOfDOMRect(i.getBoundingClientRect());let r=V(e,t);return({draggableInfo:n,dragResult:a,reset:s})=>{if(i){if(s)return r.stop(),null;if(null!==a.pos){null===o&&(i=A(e),r.stop(),r=V(i,t));const n=function(e,t,n){const{begin:o,end:i}=n;return i-e<100?{direction:"end",speedFactor:(100-(i-e))/100}:e-o<100?{direction:"begin",speedFactor:(100-(e-o))/100}:void 0}(a.pos,a.elementSize,l);n?r.animate(n.direction,1500*n.speedFactor):r.stop(),o=a.pos}else r.stop();o=a.pos}return null}};const H={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:e=>`translate3d(${e}px, 0, 0)`}},_={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:e=>`translate3d(0,${e}px, 0)`}};function M(e,t,n){e[O]=0;const o=n,i=function(e){return{get:function(t,n){return t[e[n]||n]},set:function(t,n,o){requestAnimationFrame(()=>{t[e[n]]=e.setters[n]?e.setters[n](o):o})}}}("horizontal"===t?H:_),l={translation:0};let a=null;window.addEventListener("resize",function(){f(e)}),setTimeout(()=>{u()},10);const s=c(e,function(){f(e),a&&a()});function u(){f(e),function(e){const t=e.getBoundingClientRect();l.scaleX=(t.right-t.left)/e.offsetWidth,l.scaleY=(t.bottom-t.top)/e.offsetHeight}(e)}let g;function f(e){l.rect=r(e),l.visibleRect=d(e,l.rect)}function m(e){return i.get(e,"size")*i.get(l,"scale")}function p(e){return i.get(e,"dragPosition")}function h(e){return e[S]}function b(e,t){const{left:n,top:o,right:i,bottom:r}=l.visibleRect;return e>n&&e<i&&t>o&&t<r}return{getSize:m,getContainerRectangles:function(){return{rect:l.rect,visibleRect:l.visibleRect}},getBeginEndOfDOMRect:function(e){return{begin:i.get(e,"begin"),end:i.get(e,"end")}},getBeginEndOfContainer:function(){return{begin:i.get(l.rect,"begin")+l.translation,end:i.get(l.rect,"end")+l.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:i.get(l.visibleRect,"begin")+l.translation,end:i.get(l.visibleRect,"end")+l.translation}},getBeginEnd:function(t){const n=function(e){return(i.get(e,"distanceToParent")+(e[S]||0))*i.get(l,"scale")}(t)+(i.get(l.rect,"begin")+l.translation)-i.get(e,"scrollValue");return{begin:n,end:n+m(t)*i.get(l,"scale")}},getAxisValue:p,setTranslation:function(e,t){h(e)!==t&&(i.set(e.style,"translate",t),e[S]=t,e[y]&&setTimeout(()=>{e[y].forEach(e=>{!function e(t){t.layout.invalidateRects(),t.onTranslated(),t.getChildContainers()&&t.getChildContainers().forEach(t=>e(t))}(e)})},o+20))},getTranslation:h,setVisibility:function(e,t){void 0!==e[D]&&e[D]===t||(e.style.visibility=t?"inherit":"hidden",e[D]=t)},isVisible:function(e){return void 0===e[D]||e[D]},isInVisibleRect:b,dispose:function(){s&&s.dispose(),g&&(g.parentNode.removeChild(g),g=null)},getContainerScale:function(){return{scaleX:l.scaleX,scaleY:l.scaleY}},setScrollListener:function(e){a=e},setSize:function(e,t){i.set(e,"setSize",t)},getTopLeftOfElementBegin:function(e){let n=0,o=0;return"horizontal"===t?(o=e,n=l.rect.top):(o=l.rect.left,n=e),{top:n,left:o}},getScrollSize:function(e){return i.get(e,"scrollSize")},getScrollValue:function(e){return i.get(e,"scrollValue")},setScrollValue:function(e,t){return i.set(e,"scrollValue",t)},invalidate:u,invalidateRects:function(){f(e)},getPosition:function(e){return b(e.x,e.y)?p(e):null}}}const X={[`.${R}`]:{position:"relative"},[`.${R} *`]:{"box-sizing":"border-box"},[`.${R}.horizontal`]:{"white-space":"nowrap"},[`.${R}.horizontal .${E}`]:{height:"100%",display:"inline-block"},[`.${E}`]:{overflow:"hidden"},[`.${E}.animated`]:{transition:"transform ease"},[`.${I} *`]:{"box-sizing":"border-box"},[`.${I}.animated`]:{transition:"all ease-out"},[`.${$} *`]:{"touch-actions":"none","-ms-touch-actions":"none"}};const Y=["mousedown","touchstart"],W=["mousemove","touchmove"],F=["mouseup","touchend"];let G=null,k=null,q=null,U=null,J=[],K=!1;const Q=(()=>!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)))();function Z(){Y.forEach(e=>{window.document.addEventListener(e,te,{passive:!1})})}const ee=function(){let e,t,n,o=null;const i=1,l=8;function r(n){const{clientX:o,clientY:r}=oe(n);if(t)(Math.abs(e.clientX-o)>l||Math.abs(e.clientY-r)>l)&&u();else if(Math.abs(e.clientX-o)>i||Math.abs(e.clientY-r)>i)return d()}function a(){u()}function s(){u()}function u(){clearTimeout(o),W.forEach(e=>window.document.removeEventListener(e,r),{passive:!1}),F.forEach(e=>window.document.removeEventListener(e,a),{passive:!1}),document.removeEventListener("drag",s,{passive:!1})}function d(){clearTimeout(o),u(),n()}return function(i,l,u){e=oe(i),n=u,(t=l||(Q?200:0))&&(o=setTimeout(d,t)),W.forEach(e=>window.document.addEventListener(e,r),{passive:!1}),F.forEach(e=>window.document.addEventListener(e,a),{passive:!1}),document.addEventListener("drag",s,{passive:!1})}}();function te(e){const t=oe(e);if(!K&&(k=g(t.target,"."+E))){const n=g(k,"."+R),o=J.filter(e=>e.element===n)[0],i=o.getOptions().dragHandleSelector,l=o.getOptions().nonDragAreaSelector;let r=!0;i&&!g(t.target,i)&&(r=!1),l&&g(t.target,l)&&(r=!1),r&&(e.preventDefault(),ee(t,o.getOptions().dragBeginDelay,()=>{setTimeout(()=>{window.getSelection().empty()},0),W.forEach(e=>{window.document.addEventListener(e,ie,{passive:!1})}),F.forEach(e=>{window.document.addEventListener(e,ne,{passive:!1})})}))}}function ne(){W.forEach(e=>{window.document.removeEventListener(e,ie,{passive:!1})}),F.forEach(e=>{window.document.removeEventListener(e,ne,{passive:!1})}),U&&function(e){function t(){p(q.ghost,"animated"),q.ghost.style.transitionDuration=null,document.body.removeChild(q.ghost),e()}function n({top:e,left:n},o){m(q.ghost,"animated"),q.ghost.style.transitionDuration=o+"ms",q.ghost.style.left=n+"px",q.ghost.style.top=e+"px",setTimeout(function(){t()},o+10)}if(U.targetElement){const e=J.filter(e=>e.element===U.targetElement)[0];n(e.getDragResult().shadowBeginEnd.rect,Math.max(150,e.getOptions().animationDuration/2))}else{const e=J.filter(e=>e===U.container)[0];if("move"===e.getOptions().behaviour){const{removedIndex:t,elementSize:o}=e.getDragResult(),i=e.layout;e.getTranslateCalculator({dragResult:{removedIndex:t,addedIndex:t,elementSize:o}});const l=t>0?i.getBeginEnd(e.draggables[t-1]).end:i.getBeginEndOfContainer().begin;n(i.getTopLeftOfElementBegin(l),e.getOptions().animationDuration)}else m(q.ghost,"animated"),q.ghost.style.transitionDuration=e.getOptions().animationDuration+"ms",q.ghost.style.opacity="0",q.ghost.style.transform="scale(0.90)",setTimeout(function(){t()},e.getOptions().animationDuration)}}(()=>{document.body.style.touchAction=null,(G||[]).forEach(e=>{p(e.element,N),e.handleDrop(U)}),G=null,k=null,q=null,U=null,K=!1})}function oe(e){return e.touches?e.touches[0]:e}function ie(e){e.preventDefault();const t=oe(e);if(U)q.ghost.style.left=`${t.clientX+q.positionDelta.left}px`,q.ghost.style.top=`${t.clientY+q.positionDelta.top}px`,U.position.x=t.clientX+q.centerDelta.x,U.position.y=t.clientY+q.centerDelta.y,U.clientWidth=q.clientWidth,U.clientHeight=q.clientHeight;else{K=!0;const e=J.filter(e=>k.parentElement===e.element)[0];(G=J.filter(t=>t.isDragRelevant(e))).forEach(e=>m(e.element,N)),G.forEach(e=>e.prepareDrag(e,G)),U=function(e){const t=J.filter(t=>e.parentElement===t.element)[0],n=t.draggables.indexOf(e);return{container:t,element:e,elementIndex:n,payload:t.getChildPayload(n),targetElement:null,position:{x:0,y:0},groupName:t.groupName}}(k),q=function(e,{x:t,y:n},o){const{scaleX:i=1,scaleY:l=1}=o.getScale(),{left:r,top:a,right:s,bottom:u}=e.getBoundingClientRect();o.getOptions().dragClass&&m(e.childNodes[0],o.getOptions().dragClass);const d=r+(s-r)/2,c=a+(u-a)/2,g=document.createElement("div");g.style.position="fixed",g.style.pointerEvents="none",g.style.left=r+"px",g.style.top=a+"px",g.style.width=s-r+"px",g.style.height=u-a+"px",g.style.overflow="hidden",g.className=I;const f=e.cloneNode(!0);return f.style.width=(s-r)/i+"px",f.style.height=(u-a)/l+"px",f.style.transform=`scale3d(${i||1}, ${l||1}, 1)`,f.style.transformOrigin="0 0 0",f.style.margin="0px",g.appendChild(f),{ghost:g,centerDelta:{x:d-t,y:c-n},positionDelta:{left:r-t,top:a-n},clientWidth:s-r,clientHeight:u-a}}(k,{x:t.clientX,y:t.clientY},U.container),U.position={x:t.clientX+q.centerDelta.x,y:t.clientY+q.centerDelta.y},document.body.appendChild(q.ghost)}G.forEach(e=>e.handleDrag(U))}!function(){const e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n=function e(t){return Object.entries(t).reduce((t,[n,o])=>"object"==typeof o?`${t}${n}{${e(o)}}`:`${t}${n}:${o};`,"")}(X);t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t)}();var le=(Z(),{register:function(e){J.push(e)},unregister:function(e){J.splice(J.indexOf(e),1)}});const re={groupName:null,behaviour:"move",acceptGroups:[x],orientation:"vertical",getChildPayload:()=>{},animationDuration:180};function ae(e,t,n){t?(m(e,w),e.style.transitionDuration=n+"ms"):(p(e,w),e.style.transitionDuration=null)}function se(e){return e?e[v]:null}function ue(e,t,n){return Array.prototype.map.call(e.children,e=>{let o=e;return f(e,E)||(o=function(e,t){const n=document.createElement("div");return n.className=`${E} ${t} ${w}`,e.parentElement.insertBefore(n,e),n.appendChild(e),n}(e,t)),o.style.transitionDuration=n+"ms",o[y]=[],o[S]=0,o})}function de({element:e,draggables:t,layout:n,options:o}){const i=function({element:e,draggables:t,layout:n,options:o}){return function(){t.forEach(e=>{ae(e,!1),n.setTranslation(e,0),n.setVisibility(e,!0),e[y]=[]}),e[B]&&(e[B].parentNode.removeChild(e[B]),e[B]=null),setTimeout(()=>{t.forEach(e=>{ae(e,!0,o.animationDuration)})},50)}}({element:e,draggables:t,layout:n,options:o}),l=(o.dropHandler||P)({element:e,draggables:t,layout:n,options:o});return function(e,{addedIndex:t,removedIndex:n}){if(i(),e.targetElement){let i=null!==t?null!==n&&n<t?t-1:t:null;const r={removedIndex:n,addedIndex:i,payload:e.payload,droppedElement:e.element.firstChild};l(r,o.onDrop),console.log(n,i,e.payload,e.element.firstChild)}}}function ce(e,t){const n=function(e=re){const t=Object.assign({},re,e);return t.groupName&&!e.acceptGroups&&(t.acceptGroups=[e.groupName]),t}(t),o=ue(e,n.orientation,n.animationDuration);return m(e,`${R} ${n.orientation}`),{element:e,draggables:o,options:n,layout:M(e,n.orientation,n.animationDuration)}}function ge(e,t){const n=function(e,t){let n=e.element;for(;n;){const e=se(n.parentElement);if(e&&t.indexOf(e)>-1)return{container:e,draggable:n};n=n.parentElement}return null}(e,t);n&&(n.container.getChildContainers().push(e),e.setParentContainer(n.container),n.draggable[y].push(e))}function fe({draggables:e,element:t,options:n}){let o=null;return({draggableInfo:e,dragResult:i})=>{let l=o;return null==o&&e.container.element===t&&"move"===n.behaviour&&(l=o=e.elementIndex),{removedIndex:l}}}function me({draggables:e,layout:t}){return({draggableInfo:n,dragResult:o})=>{null!==o.removedIndex&&t.setVisibility(e[o.removedIndex],!1)}}function pe({element:e,layout:t}){return({draggableInfo:n})=>({pos:se(e).isPosInChildContainer()?null:t.getPosition(n.position)})}function he({element:e}){let t=!1;return({draggableInfo:n,dragResult:o})=>{se(e).getParentContainer()&&t!==(null!==o.pos)&&(t=null!==o.pos,se(e).getParentContainer().onChildPositionCaptured(t))}}function be({layout:e}){let t=null;return({draggableInfo:n,dragResult:o})=>null===o.pos?t=null:{elementSize:t=t||e.getSize(n.element)}}function ve({element:e}){return({draggableInfo:t,dragResult:n})=>{!function(e,t,n=!0){t&&n?e.targetElement=t:e.targetElement===t&&(e.targetElement=null)}(t,e,!!n.pos)}}function ye({draggables:e,layout:t}){const n=function({layout:e}){const t=(n,o,i,l,r=!1)=>{if(l<i)return i;if(i===l){let{begin:t,end:l}=e.getBeginEnd(n[i]);return o>t&&o<=l?r?o<(l+t)/2?i:i+1:i:null}{const a=Math.floor((l+i)/2),{begin:s,end:u}=e.getBeginEnd(n[a]);return o<s?t(n,o,i,a-1,r):o>u?t(n,o,a+1,l,r):r?o<(u+s)/2?a:a+1:a}};return(e,n,o=!1)=>t(e,n,0,e.length-1,o)}({layout:t});return({dragResult:{shadowBeginEnd:t,pos:o}})=>{if(!t){const t=n(e,o,!0);return null!==t?t:e.length}return t.begin+t.beginAdjustment<=o&&t.end>=o?null:o<t.begin+t.beginAdjustment?n(e,o):o>t.end?n(e,o)+1:e.length}}function xe(e){const t=De(e);return({draggableInfo:e,dragResult:n})=>e.invalidateShadow?t({draggableInfo:e,dragResult:n}):null}function Ee(e){const t=ye(e);return({dragResult:e})=>{let n=null;return null!==e.pos&&null===(n=t({dragResult:e}))&&(n=e.addedIndex),{addedIndex:n}}}function Ce(){let e=null;return({dragResult:{addedIndex:t,shadowBeginEnd:n}})=>{t!==e&&null!==e&&n&&(n.beginAdjustment=0),e=t}}function we({element:e,draggables:t,layout:n,options:o}){let i=null,l=!1;return function({dragResult:{addedIndex:r,removedIndex:a,elementSize:s}}){if(null===a)if(null!==r){if(!l){const r=n.getBeginEndOfContainer(),a=n.getScrollSize(e)>n.getSize(e)?r.begin+n.getScrollSize(e)-n.getScrollValue(e):r.end,u=n.getBeginEnd(t[t.length-1]).end-t[t.length-1][S];if(u+s>a){(i=document.createElement("div")).className=z+" "+o.orientation;const t=s+u-a;n.setSize(i.style,`${t}px`),e.appendChild(i),e[B]=i}l=!0,setTimeout(()=>{n.invalidateRects()},100)}}else{if(i){n.setTranslation(i,0);let t=i;i=null,e.removeChild(t),e[B]=null}l=!1,setTimeout(()=>{n.invalidateRects()},100)}}}function Se({element:e,draggables:t,layout:n}){let o=null,i=null;return function({dragResult:{addedIndex:e,removedIndex:l,elementSize:r}}){if(e!==o||l!==i){for(let o=0;o<t.length;o++)if(o!==l){const i=t[o];let a=0;null!==l&&l<o&&(a-=n.getSize(t[l])),null!==e&&e<=o&&(a+=r),n.setTranslation(i,a)}return o=e,i=l,{addedIndex:e,removedIndex:l}}}}function De({draggables:e,layout:t}){let n=null;return({draggableInfo:o,dragResult:i})=>{const{addedIndex:l,removedIndex:r,elementSize:a,pos:s,shadowBeginEnd:u}=i;if(null!==s){if(null===l||!o.invalidateShadow&&l===n)return null;{n&&(n=l);let o=l-1,i=0,s=null,d=null;if(o===r&&o--,o>-1){const n=t.getSize(e[o]);if(d=t.getBeginEnd(e[o]),a<n){const e=(n-a)/2;i=d.end-e}else i=d.end}else d={end:t.getBeginEndOfContainer().begin};let c=1e4,g=l;if(g===r&&g++,g<e.length){const n=t.getSize(e[g]);if(s=t.getBeginEnd(e[g]),a<n){const e=(n-a)/2;c=s.begin+e}else c=s.begin}else s={begin:t.getContainerRectangles().end};return{shadowBeginEnd:{begin:i,end:c,rect:d&&s?t.getTopLeftOfElementBegin(d.end,s.begin):null,beginAdjustment:u?u.beginAdjustment:0}}}}return n=null,{shadowBeginEnd:null}}}function Ie(){let e=null;return({dragResult:{pos:t,addedIndex:n,shadowBeginEnd:o},draggableInfo:{invalidateShadow:i}})=>{if(null!==t){if(null!=n&&null===e){if(t<o.begin){const e=t-o.begin-5;o.beginAdjustment=e}e=n}}else e=null}}function Re(e){return function(e){return(...t)=>{const n=t.map(t=>t(e));let o=null;return e=>o=n.reduce((t,n)=>Object.assign(t,n({draggableInfo:e,dragResult:t})),o||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}(e)(fe,me,pe,he,be,ve,xe,Ee,Ce,we,Se,De,Ie)}function Oe(e){return function(t){let n=null,o=null;const i=ce(e,t);let l=Re(i),r=de(i),a=j(i),s=null,u=!1,d=[];function c(){null!==o&&(o.invalidateShadow=!0,n=l(o),o.invalidateShadow=!1)}function f(e){u=e,s&&(s.onChildPositionCaptured(e),o&&(n=l(o)))}return i.layout.setScrollListener(function(){c()}),{element:e,draggables:i.draggables,isDragRelevant:function({element:e,options:t}){return function(n){const o=n.getOptions();return"copy"!==t.behaviour&&g(e,"."+E)!==n.element&&(n.element===e||!(!o.groupName||o.groupName!==t.groupName)||t.acceptGroups.indexOf(o.groupName)>-1)}}(i),getScale:i.layout.getContainerScale,getChildPayload:i.options.getChildPayload,groupName:i.options.groupName,layout:i.layout,getChildContainers:()=>d,onChildPositionCaptured:f,dispose:function(e){},prepareDrag:function(e,t){const n=e.element,o=i.draggables,l=e.getOptions(),r=ue(n,l.orientation,l.animationDuration);for(let e=0;e<r.length;e++)o[e]=r[e];for(let e=0;e<o.length-r.length;e++)o.pop();e.layout.invalidateRects(),ge(e,t)},isPosInChildContainer:()=>u,handleDrag:function(e){o=e,n=l(e),a({draggableInfo:e,dragResult:n})},handleDrop:function(e){o=null,f(!1),l=Re(i),r(e,n),a({reset:!0}),a=j(i),s=null,d=[]},getDragResult:function(){return n},getTranslateCalculator:function(...e){return Se(i)(...e)},setParentContainer:e=>{s=e},getParentContainer:()=>s,onTranslated:()=>{c()},getOptions:()=>i.options}}}n.d(t,"constants",function(){return o}),n.d(t,"dropHandlers",function(){return i});t.default=function(e,t){const n=Oe(e),o=n(t);return e[v]=o,le.register(o),{setOptions:n,dispose:function(){le.unregister(o),o.layout.dispose(),o.dispose(o)}}}}])});